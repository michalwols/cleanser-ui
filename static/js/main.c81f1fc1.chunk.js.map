{"version":3,"sources":["utils.js","models/Data.js","models/Text.js","App.js","serviceWorker.js","index.js"],"names":["dedupe","list","key","filter","elem","index","self","findIndex","t","Counter","items","Object","classCallCheck","this","counts","Map","update","createClass","value","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","x","set","get","err","return","toConsumableArray","entries","sort","a","b","Data","raw","_ref","arguments","length","id","timeCreated","timeModified","isCompleted","isSkipped","concat","Date","now","Math","random","derivedFrom","attributes","Text","_Data","_this","possibleConstructorReturn","getPrototypeOf","call","tokens","tokenize","inherits","_this2","substrings","split","start","map","s","Token","source","tags","tag","console","log","find","sampleTexts","Tag","_ref3","children","react_default","createElement","className","Span","observer","_ref4","token","_useState","useState","_useState2","slicedToArray","selected","setSelected","onClick","toggleTag","App_Tag","_ref5","App_Span","App","results","_useState3","TextData","_useState4","texts","updateTexts","_useState5","_useState6","query","updateQuery","toLowerCase","match","e","normalizedQuery","includes","tokenCounts","r","flat","onPaste","stopPropagation","clipboardData","getData","onDrop","preventDefault","debug","dataTransfer","types","files","Papa","parse","header","worker","preview","chunk","parser","data","input","onDragEnter","onDragOver","placeholder","type","onChange","target","t1","t2","slice","App_Text","mostCommon","style","margin","JSON","stringify","Boolean","window","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c81f1fc1.chunk.js","sourcesContent":["export const dedupe = (list, key) =>\n  list.filter(\n    (elem, index, self) =>\n      self.findIndex(t => {\n        return t[key] === elem[key]\n      }) === index\n  )\n\nexport class Counter {\n  constructor(items) {\n    this.counts = new Map()\n    this.update(items)\n  }\n\n  update(items) {\n    for (let x of items) {\n      this.counts.set(x, (this.counts.get(x) || 0) + 1)\n    }\n  }\n\n  mostCommon() {\n    return [...this.counts.entries()].sort((a, b) => b[1] - a[1])\n  }\n}\n\nexport const uuidv4 = () =>\n  ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  )\n\n\n\n\nexport const hashText = text => {\n  let hash = 0,\n    i,\n    chr\n  if (text.length === 0) return hash\n  for (i = 0; i < text.length; i++) {\n    chr = text.charCodeAt(i)\n    hash = (hash << 5) - hash + chr\n    hash |= 0 // Convert to 32bit integer\n  }\n  return hash\n}","export default class Data {\n  constructor(\n    raw,\n    { id, timeCreated, timeModified, isCompleted, isSkipped } = {}\n  ) {\n    this.id = id || (`${Date.now()}-${Math.random()}` )\n    this.raw = raw\n\n    this.timeCreated = timeCreated || Date.now()\n    this.timeModified = timeModified\n\n    this.isCompleted = isCompleted\n    this.isSkipped = isSkipped\n\n    this.derivedFrom = undefined\n\n    this.attributes = {\n\n    }\n  }\n}\n","import Data from './Data'\nimport {observable} from 'mobx'\n\n\nexport class Text extends Data {\n  constructor(\n    raw,\n    { id, timeCreated, timeModified, isCompleted, isSkipped } = {}\n  ) {\n    super(raw, { id, timeCreated, timeModified, isCompleted, isSkipped })\n\n    this.tokens = []\n    this.tokenize()\n  }\n\n  tokenize() {\n    const substrings = this.raw.split(' ')\n    let start = 0\n    this.tokens = substrings.map(s => {\n      const t = new Token(s, this, start)\n      start += s.length + 1  // FIXME\n      return t\n    })\n  }\n}\n\nexport class Token {\n  constructor(raw, source, start) {\n    this.raw = raw\n\n    this.source = source\n    this.start = start\n\n    this.tags = []\n  }\n\n  toggleTag(tag) {\n    console.log(tag)\n    if (this.tags.find(t => t === tag)) {\n      this.tags = this.tags.filter(t => t !== tag)\n    } else {\n      this.tags = [...this.tags, tag]\n    }\n  }\n}\n\n\n\nclass Span {\n  constructor() {\n    this.doc = null\n    this.start = null\n    this.end = null\n\n    this.tags = null\n  }\n\n  get text() {\n    return this.doc.raw.slice(this.start, this.end)\n  }\n}\n","import React, { useState } from 'react'\nimport './App.css'\n\nimport { dedupe, Counter, hashText, uuidv4 } from './utils'\n\nimport { Text as TextData } from './models/Text'\nimport { observer } from 'mobx-react'\n\nimport Papa from 'papaparse'\n\nconst sampleTexts = [\n  'Winnti is a highly complex structure that is difficult to penetrate. The term denotes both a sophisticated malware and an actual group of hackers. IT security experts like to call them digital mercenaries. Since at least 2011, these hackers have been using malware to spy on corporate networks. Their mode of operation: to collect information on the organizational charts of companies, on cooperating departments, on the IT systems of individual business units, and on trade secrets, obviously.',\n\n  'Asked about the group an IT security expert w6ho has been analyzing the attacks for years replies, tongue in cheek: “Any DAX corporation that hasn’t been attacked by Winnti must have done something wrong.” A high-ranking German official says: “The numbers of cases are mind-boggling.” And claims that the group continues to be highly active—to this very day. The official’s name will remain undisclosed, as will names of the more than 30 people whom we were able to interview for this article: Company staff, IT security experts, government officials, and representatives of security authorities. They are either not willing or not allowed to speak frankly. But they are allowed to reveal some of their tactics.',\n\n  'This allows us to find the software and to figure out for ourselves how the attackers work. Thanks to the help received from the informers, we, the reporters, are able to get on to the group. Part of their trail is the following code: daa0 c7cb f4f0 fbcf d6d1.',\n\n  'Logging:',\n\n  'The hackers’ individual steps are stored in log files.',\n\n  'Modern-day espionage operations have one big advantage: Instead of painstakingly planting agents in companies, digital spies are simply sending prepared emails. Instead of taking pictures of confidential documents while the rest of the staff is out to lunch, hackers can remotely log on to company computers and send their commands from their keyboard. But every hacking operation also comes with a huge drawback. It leaves digital traces. If you notice hackers, you can log their every step. The hackers themselves have no clue that they are under meticulous scrutiny, sometimes even for months at a time.',\n\n  'To decipher the traces of hackers, you need to take a closer look at the program code of the malware itself. It can be found in databases operated by private companies like “Virustotal.” The company is owned by Google and is a kind of malware search engine. The information stored in that database is so valuable to IT consultants and security companies that they pay thousands of Euros per month for accessing it. Anybody who is unsure whether a mail attachment contains a Trojan can have it checked in that database by more than 50 antivirus programs. In return, Virustotal stores the file with the aid of a digital fingerprint. This digital fingerprint allows others to search for the file and to analyze the codes it contains. People like ourselves.'\n]\n\nconst interpretLabelingFunction = body => new Function('doc', body)\n\nclass DocStore {\n  constructor(props) {}\n}\n\nclass Data {\n  constructor(raw, { id, timeCreated, timeModified } = {}) {\n    this.id = id\n    this.raw = raw\n    this.timeCreated = timeCreated || Date.now()\n    this.timeModified = timeModified\n  }\n}\n\nclass TextDoc {\n  constructor(raw, { id, timeCreated, timeModified } = {}) {\n    this.id = uuidv4()\n    this.raw = raw\n    this.tokens = tokenize(raw)\n    this.annotations = []\n    this.suggestions = []\n    this.attributes = {\n      length: this.raw.length\n    }\n\n    this.timeCreated = timeCreated || Date.now()\n    this.timeModified = timeModified\n\n    this.isCompleted = false\n  }\n\n  static fromSpacy() {}\n}\n\nclass Audio {}\n\nclass Image {}\n\nconst tokenize = text => text.split(' ')\n\nconst Tag = ({ children }) => <span className={'tag'}>{children}</span>\n\nexport const Span = observer(({ children, token } = {}) => {\n  const [selected, setSelected] = useState(false)\n\n  return (\n    <span\n      className={`segment ${selected ? 'selected' : ''} ${\n        token.tags.length ? 'tagged' : ''\n      }`}\n      onClick={() => {\n        setSelected(!selected);\n        token.toggleTag('ch')}}>\n      {children}\n      {token.tags.map(tag => (\n        <Tag>{tag}</Tag>\n      ))}\n    </span>\n  )\n})\n\nconst Text = ({ children, tokens }) => (\n  <div className={'text'}>\n    {(tokens).map(t => (\n      <Span token={t} tags={t.tags}>{t.raw} </Span>\n    ))}\n  </div>\n)\n\nfunction App() {\n  const [texts, updateTexts] = useState(sampleTexts.map(t => new TextData(t)))\n  const [query, updateQuery] = useState('')\n\n  const normalizedQuery = query.toLowerCase()\n  // const results = texts.filter(t =>\n  //   query.length ? t.raw.toLowerCase().includes(normalizedQuery) : true\n  // )\n\n  let results\n  try {\n    results = texts.filter(t => (query.length ? t.raw.match(query) : true))\n  } catch (e) {\n    const normalizedQuery = query.toLowerCase()\n    results = texts.filter(t =>\n      query.length ? t.raw.toLowerCase().includes(normalizedQuery) : true\n    )\n  }\n\n  const tokenCounts = new Counter(results.map(r => r.tokens).flat().map(\n    t => t.raw\n  ))\n\n  return (\n    <div\n      className=\"app\"\n      onPaste={e => {\n        e.stopPropagation()\n        updateTexts(\n          dedupe(\n            [\n              ...e.clipboardData\n                .getData('text/plain')\n                .split('\\n')\n                .map(t => new TextData(t)),\n              ...texts\n            ],\n            'id'\n          )\n        )\n      }}\n      onDrop={e => {\n        e.stopPropagation()\n        e.preventDefault()\n        console.debug(e.dataTransfer.types)\n        if (e.dataTransfer.files) {\n          Papa.parse(e.dataTransfer.files[0], {\n            header: true,\n            worker: true,\n            preview: 5000,\n            chunk: (results, parser) => {\n              console.log(results)\n              const data = results.data.map(x => x.input)\n              updateTexts(\n                dedupe([...data.map(t => new TextData(t)), ...texts], 'id')\n              )\n            }\n          })\n        } else {\n          const data = e.dataTransfer.getData('text/plain')\n          updateTexts(\n            dedupe(\n              [...data.split('\\n').map(t => new TextData(t)), ...texts],\n              'id'\n            )\n          )\n        }\n      }}\n      onDragEnter={e => {\n        e.stopPropagation()\n        e.preventDefault()\n      }}\n      onDragOver={e => {\n        e.stopPropagation()\n        e.preventDefault()\n      }}>\n      <div className={'header-branding'}>\n        <h2 className={'cleanser-logo'}>\n          Cleanser\n          <p>exfoliate your data!</p>\n        </h2>\n      </div>\n\n      <header>\n        <div className={'search'}>\n          <input\n            placeholder={'search...'}\n            className={'search-input'}\n            type=\"text\"\n            value={query}\n            onPaste={e => {\n              e.stopPropagation()\n            }}\n            onChange={e => updateQuery(e.target.value)}\n          />\n        </div>\n      </header>\n\n      <div className=\"content\">\n        {results\n          .sort((t1, t2) => (t1.raw < t2.raw ? -1 : 1))\n          .slice(0, 150)\n          .map(t => (\n            <Text key={t.id} tokens={t.tokens} />\n          ))}\n      </div>\n\n      <div className={'sidebar'}>\n        <div className={'search-info'}>\n          <aside>{results.length} documents</aside>\n        </div>\n\n        <div>\n          {tokenCounts\n            .mostCommon()\n            .slice(0, 30)\n            .map(e => (\n              <p className={'segment tagged'} style={{ margin: 0 }}>\n                {e[0]} <Tag>{e[1]}</Tag>\n              </p>\n            ))}\n        </div>\n\n        <button onClick={() => console.log(JSON.stringify(texts))}>\n          export\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}